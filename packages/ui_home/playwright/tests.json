{
  "$schema": "https://metabuilder.dev/schemas/package-playwright.schema.json",
  "package": "ui_home",
  "version": "1.0.0",
  "description": "E2E tests for ui_home package - validates landing page rendering, navigation, and interactions",
  "baseURL": "http://localhost:3000",
  "setup": {
    "beforeAll": [
      {
        "action": "seed",
        "description": "Seed database with ui_home package data"
      }
    ]
  },
  "fixtures": {
    "heroTitle": "Build Anything, Visually",
    "heroSubtitle": "A 6-level meta-architecture for creating entire applications through visual workflows, schema editors, and embedded scripting. No code required.",
    "featuresSectionTitle": "Six Levels of Power",
    "expectedFeatureCards": 6,
    "aboutTitle": "About MetaBuilder",
    "contactTitle": "Get in Touch"
  },
  "tests": [
    {
      "name": "should load home page successfully",
      "description": "Verifies the home page loads with HTTP 200 and displays content",
      "tags": [
        "@smoke",
        "@critical"
      ],
      "timeout": 10000,
      "steps": [
        {
          "description": "Navigate to root path",
          "action": "navigate",
          "url": "/"
        },
        {
          "description": "Wait for DOM to be ready",
          "action": "waitForLoadState",
          "state": "domcontentloaded"
        },
        {
          "description": "Verify page has content",
          "action": "expect",
          "selector": "body",
          "assertion": {
            "matcher": "toContainText",
            "expected": "MetaBuilder"
          }
        }
      ]
    },
    {
      "name": "should display hero section with title and CTAs",
      "description": "Validates hero section renders with gradient title and action buttons",
      "tags": [
        "@smoke",
        "@ui"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "domcontentloaded"
        },
        {
          "description": "Check hero title is visible",
          "action": "expect",
          "selector": ".hero-title",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify hero title text",
          "action": "expect",
          "selector": ".hero-title",
          "assertion": {
            "matcher": "toContainText",
            "expected": "Build Anything"
          }
        },
        {
          "description": "Check Get Started button exists",
          "action": "expect",
          "role": "button",
          "text": "Get Started",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Check Watch Demo button exists",
          "action": "expect",
          "role": "button",
          "text": "Watch Demo",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should display six level feature cards",
      "description": "Validates the Six Levels of Power feature grid with all 6 level cards",
      "tags": [
        "@smoke",
        "@ui",
        "@features"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "networkidle"
        },
        {
          "description": "Verify features section header",
          "action": "expect",
          "selector": ".features-header",
          "assertion": {
            "matcher": "toContainText",
            "expected": "Six Levels of Power"
          }
        },
        {
          "description": "Check features grid is visible",
          "action": "expect",
          "selector": ".features-grid",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify exactly 6 feature cards",
          "action": "expect",
          "selector": ".feature-card",
          "assertion": {
            "matcher": "toHaveCount",
            "expected": 6
          }
        },
        {
          "description": "Check Level 1 card is visible",
          "action": "expect",
          "selector": ".feature-card--level1",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Check Level 6 (Super God) card is visible",
          "action": "expect",
          "selector": ".feature-card--level6",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should display navigation with Sign In and Admin buttons",
      "description": "Validates navigation bar with authentication links",
      "tags": [
        "@smoke",
        "@navigation"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "domcontentloaded"
        },
        {
          "description": "Check navigation bar exists",
          "action": "expect",
          "selector": ".landing-nav",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify Sign In button",
          "action": "expect",
          "role": "button",
          "text": "Sign In",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify Admin button",
          "action": "expect",
          "role": "button",
          "text": "Admin",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should display about section",
      "description": "Validates About MetaBuilder section content",
      "tags": [
        "@ui",
        "@content"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "domcontentloaded"
        },
        {
          "description": "Check about section is visible",
          "action": "expect",
          "selector": ".about-section",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify about title",
          "action": "expect",
          "selector": ".about-title",
          "assertion": {
            "matcher": "toContainText",
            "expected": "About MetaBuilder"
          }
        }
      ]
    },
    {
      "name": "should display contact form",
      "description": "Validates contact section with form fields",
      "tags": [
        "@ui",
        "@form"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "domcontentloaded"
        },
        {
          "description": "Check contact section is visible",
          "action": "expect",
          "selector": ".contact-section",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify contact title",
          "action": "expect",
          "selector": ".contact-title",
          "assertion": {
            "matcher": "toContainText",
            "expected": "Get in Touch"
          }
        },
        {
          "description": "Check contact form exists",
          "action": "expect",
          "selector": ".contact-form",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify name field",
          "action": "expect",
          "selector": ".contact-field--name",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify email field",
          "action": "expect",
          "selector": ".contact-field--email",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify message field",
          "action": "expect",
          "selector": ".contact-field--message",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Verify submit button",
          "action": "expect",
          "selector": ".contact-submit",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should have no critical console errors",
      "description": "Ensures page loads without JavaScript errors",
      "tags": [
        "@smoke",
        "@critical"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "networkidle"
        },
        {
          "description": "Page should load successfully without errors",
          "action": "expect",
          "selector": "body",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should navigate to sections via anchor links",
      "description": "Tests smooth scrolling to sections via navigation links",
      "tags": [
        "@interaction",
        "@navigation"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "domcontentloaded"
        },
        {
          "description": "Click Features link",
          "action": "click",
          "selector": "a[href='#features']"
        },
        {
          "description": "Wait for scroll",
          "action": "wait",
          "timeout": 500
        },
        {
          "description": "Features section should be in viewport",
          "action": "expect",
          "selector": "#features",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "navigation_tests_merged",
      "description": "Navigation tests from navigation package"
    },
    {
      "name": "should navigate from homepage to key sections",
      "tags": [
        "@navigation",
        "@routing"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "networkidle"
        },
        {
          "description": "Verify page has content",
          "action": "expect",
          "selector": "body",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should have working navigation menu",
      "tags": [
        "@navigation"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "description": "Check for navigation element",
          "action": "expect",
          "selector": "nav, [role=\"navigation\"]",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should handle 404 pages gracefully",
      "tags": [
        "@navigation",
        "@error-handling"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/this-page-does-not-exist-12345"
        },
        {
          "description": "Wait for page to load",
          "action": "waitForLoadState",
          "state": "domcontentloaded"
        },
        {
          "description": "Check for not found message",
          "action": "expect",
          "text": "not found",
          "assertion": {
            "matcher": "toBeVisible",
            "timeout": 5000
          }
        }
      ]
    },
    {
      "name": "should have accessible navigation",
      "tags": [
        "@navigation",
        "@accessibility"
      ],
      "steps": [
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "description": "Check for main landmark",
          "action": "expect",
          "selector": "main, [role=\"main\"]",
          "assertion": {
            "matcher": "toBeVisible"
          }
        },
        {
          "description": "Press Tab key for keyboard navigation",
          "action": "press",
          "key": "Tab"
        }
      ]
    },
    {
      "name": "should show mobile menu on small screens",
      "tags": [
        "@navigation",
        "@responsive",
        "@mobile"
      ],
      "steps": [
        {
          "description": "Set mobile viewport",
          "action": "evaluate",
          "script": "await page.setViewportSize({ width: 375, height: 667 })"
        },
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "action": "waitForLoadState",
          "state": "networkidle"
        },
        {
          "description": "Verify navigation is present",
          "action": "expect",
          "selector": "[role=\"navigation\"], nav",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    },
    {
      "name": "should show desktop navigation on large screens",
      "tags": [
        "@navigation",
        "@responsive",
        "@desktop"
      ],
      "steps": [
        {
          "description": "Set desktop viewport",
          "action": "evaluate",
          "script": "await page.setViewportSize({ width: 1920, height: 1080 })"
        },
        {
          "action": "navigate",
          "url": "/"
        },
        {
          "description": "Desktop navigation should be visible",
          "action": "expect",
          "selector": "nav, [role=\"navigation\"]",
          "assertion": {
            "matcher": "toBeVisible"
          }
        }
      ]
    }
  ]
}

name: Artist
displayName: Artist
description: Music artist entity for Spotify clone
tableName: artist
tenantScoped: true

fields:
  id:
    type: string
    required: true
    primaryKey: true
    description: Unique identifier for the artist
    label: ID

  tenantId:
    type: string
    required: true
    description: Multi-tenant identifier
    label: Tenant ID
    index: true

  name:
    type: string
    required: true
    description: Artist name
    label: Name
    maxLength: 255

  bio:
    type: text
    required: false
    description: Artist biography
    label: Biography

  imageUrl:
    type: string
    required: false
    description: URL to artist profile image
    label: Image URL
    maxLength: 2048

  genre:
    type: string
    required: false
    description: Primary music genre
    label: Genre
    maxLength: 100

  verified:
    type: boolean
    required: true
    defaultValue: false
    description: Whether artist is verified
    label: Verified

  followers:
    type: number
    required: true
    defaultValue: 0
    description: Total follower count
    label: Followers
    min: 0

  createdAt:
    type: datetime
    required: true
    description: Timestamp when artist was created
    label: Created At
    autoSet: creation

  updatedAt:
    type: datetime
    required: false
    description: Timestamp when artist was last updated
    label: Updated At
    autoSet: update

indexes:
  - fields: [tenantId, name]
    unique: false
  - fields: [tenantId, verified]
    unique: false
  - fields: [tenantId, createdAt]
    unique: false

relations:
  albums:
    type: has-many
    entity: Album
    foreign_key: artistId
    description: Albums created by this artist
    cascade_delete: true

  tracks:
    type: has-many
    entity: Track
    foreign_key: artistId
    description: Individual tracks by this artist
    cascade_delete: true

  playlists:
    type: many-to-many
    entity: Playlist
    through: PlaylistArtist
    foreign_key: artistId
    target_key: playlistId
    description: Playlists featuring this artist

  followers:
    type: many-to-many
    entity: User
    through: ArtistFollower
    foreign_key: artistId
    target_key: userId
    description: Users following this artist

  genres:
    type: many-to-many
    entity: Genre
    through: ArtistGenre
    foreign_key: artistId
    target_key: genreId
    description: Musical genres associated with this artist

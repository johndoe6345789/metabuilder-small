# AuditLog seed data
# DBAL entity: AuditLog
# Schema reference: dbal/shared/api/schema/entities/packages/audit_log.yaml
entity: AuditLog
version: "1.0"
package: audit_log
description: "Sample audit log entries showing realistic system activity"

records:
  - id: clx1audit01login001
    tenantId: default
    userId: user_admin_system
    username: admin
    action: login
    entity: Session
    entityId: sess_admin_20260220_01
    oldValue: null
    newValue: '{"sessionId": "sess_admin_20260220_01", "loginMethod": "password"}'
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"mfaVerified": true, "loginAttempt": 1}'
    timestamp: 0

  - id: clx1audit02login002
    tenantId: default
    userId: user_testuser
    username: testuser
    action: login
    entity: Session
    entityId: sess_testuser_20260220_01
    oldValue: null
    newValue: '{"sessionId": "sess_testuser_20260220_01", "loginMethod": "password"}'
    ipAddress: "10.0.0.42"
    userAgent: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"mfaVerified": false, "loginAttempt": 1}'
    timestamp: 0

  - id: clx1audit03createwf
    tenantId: default
    userId: user_admin_system
    username: admin
    action: create
    entity: Workflow
    entityId: wf_user_onboarding
    oldValue: null
    newValue: '{"name": "User Onboarding Pipeline", "status": "published", "nodeCount": 5}'
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"category": "automation", "version": "3.0.0"}'
    timestamp: 0

  - id: clx1audit04updateusr
    tenantId: default
    userId: user_testuser
    username: testuser
    action: update
    entity: User
    entityId: user_testuser
    oldValue: '{"bio": null}'
    newValue: '{"bio": "Test user for E2E tests and development"}'
    ipAddress: "10.0.0.42"
    userAgent: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"fieldsChanged": ["bio"]}'
    timestamp: 0

  - id: clx1audit05installpk
    tenantId: default
    userId: user_admin_system
    username: admin
    action: execute
    entity: InstalledPackage
    entityId: forum_forge
    oldValue: null
    newValue: '{"packageId": "forum_forge", "version": "1.0.0", "enabled": true}'
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"operation": "package_install", "dependencies": ["notification_center"]}'
    timestamp: 0

  - id: clx1audit06deleteprd
    tenantId: default
    userId: user_admin_system
    username: admin
    action: delete
    entity: Product
    entityId: prod_discontinued_item
    oldValue: '{"name": "Discontinued Widget", "sku": "MB-DW-001", "isActive": false}'
    newValue: null
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"reason": "Product discontinued and removed from catalog", "softDelete": false}'
    timestamp: 0

  - id: clx1audit07accessdb
    tenantId: default
    userId: user_admin_system
    username: admin
    action: access
    entity: DatabaseManager
    entityId: null
    oldValue: null
    newValue: null
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"panel": "database_manager", "action": "view_tables", "tableCount": 18}'
    timestamp: 0

  - id: clx1audit08exportdat
    tenantId: default
    userId: user_admin_system
    username: admin
    action: export
    entity: AuditLog
    entityId: null
    oldValue: null
    newValue: null
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"format": "csv", "recordCount": 1847, "dateRange": "2026-01-01 to 2026-02-20", "fileSize": "245KB"}'
    timestamp: 0

  - id: clx1audit09createprj
    tenantId: default
    userId: user_testuser
    username: testuser
    action: create
    entity: Project
    entityId: proj_ecommerce_dash
    oldValue: null
    newValue: '{"name": "E-Commerce Dashboard", "version": "1.0.0", "status": "draft"}'
    ipAddress: "10.0.0.42"
    userAgent: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"template": "blank", "framework": "react"}'
    timestamp: 0

  - id: clx1audit10importscm
    tenantId: default
    userId: user_admin_system
    username: admin
    action: import
    entity: Schema
    entityId: null
    oldValue: null
    newValue: '{"schemas": ["game.yaml", "artist.yaml", "video.yaml"], "count": 3}'
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"source": "dbal/shared/api/schema/entities/", "validated": true, "conflicts": 0}'
    timestamp: 0

  - id: clx1audit11logout001
    tenantId: default
    userId: user_testuser
    username: testuser
    action: logout
    entity: Session
    entityId: sess_testuser_20260220_01
    oldValue: '{"sessionId": "sess_testuser_20260220_01", "active": true}'
    newValue: '{"sessionId": "sess_testuser_20260220_01", "active": false}'
    ipAddress: "10.0.0.42"
    userAgent: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"sessionDuration": "4h 23m", "logoutType": "manual"}'
    timestamp: 0

  - id: clx1audit12updatewf2
    tenantId: default
    userId: user_admin_system
    username: admin
    action: update
    entity: Workflow
    entityId: wf_data_backup
    oldValue: '{"status": "active", "executionConfig": {"timeout": 180000}}'
    newValue: '{"status": "active", "executionConfig": {"timeout": 300000}}'
    ipAddress: "192.168.1.10"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Chrome/122.0.0.0"
    details: '{"fieldsChanged": ["executionConfig.timeout"], "reason": "Increased timeout for large database exports"}'
    timestamp: 0

metadata:
  bootstrap: false
  skipIfExists: true
  timestampField: timestamp
  useCurrentTimestamp: true

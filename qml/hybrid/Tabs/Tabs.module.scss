// Tabs Component - Material Design 3
// ====================================
// Implements M3 tabs specifications using official M3 tokens
// https://m3.material.io/components/tabs/specs

@use '../tokens' as m3;

// Tabs container
.tabs {
  width: 100%;
}

// ============================================
// Tab List (Container for Tabs)
// ============================================

.tabList {
  display: flex;
  border-bottom: 1px solid m3.$surface-variant;
  margin-bottom: 24px;
  overflow-x: auto;
  scrollbar-width: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

// ============================================
// Individual Tab
// ============================================

.tab {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 90px;
  height: 48px;
  padding: 0 24px;
  background: transparent;
  border: none;
  cursor: pointer;
  user-select: none;
  white-space: nowrap;

  // Typography (M3 title-small)
  @include m3.typography(title-small);
  color: m3.$on-surface-variant;

  // Transitions
  transition:
    color m3.$motion-duration-short4 m3.$motion-easing-standard,
    background-color m3.$motion-duration-short4 m3.$motion-easing-standard;

  // Active indicator (bottom bar)
  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: transparent;
    border-radius: 3px 3px 0 0;
    transition: background-color m3.$motion-duration-short4 m3.$motion-easing-standard;
  }

  // Hover state
  &:hover {
    background: color-mix(
      in srgb,
      m3.$on-surface 8%,
      transparent
    );
  }

  // Focus state
  &:focus-visible {
    outline: none;
    background: color-mix(
      in srgb,
      m3.$on-surface 12%,
      transparent
    );
  }

  // Active/pressed state
  &:active {
    background: color-mix(
      in srgb,
      m3.$on-surface 12%,
      transparent
    );
  }

  // ============================================
  // Active Tab State
  // ============================================

  &--active {
    color: m3.$primary;

    &::after {
      background: m3.$primary;
    }

    &:hover {
      background: color-mix(
        in srgb,
        m3.$primary 8%,
        transparent
      );
    }

    &:focus-visible {
      background: color-mix(
        in srgb,
        m3.$primary 12%,
        transparent
      );
    }

    &:active {
      background: color-mix(
        in srgb,
        m3.$primary 12%,
        transparent
      );
    }
  }
}

// ============================================
// Tab with Icon
// ============================================

.tab--withIcon {
  flex-direction: column;
  height: 64px;
  padding: 12px 16px;
  gap: 4px;

  .tabIcon {
    font-size: 1.25rem;
    width: 1.25rem;
    height: 1.25rem;
  }
}

// ============================================
// Tab Panel (Content Area)
// ============================================

.tabPanel {
  animation: fadeIn m3.$motion-duration-short4 m3.$motion-easing-emphasized-decelerate;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ============================================
// Secondary Tabs Variant
// ============================================

.tabList--secondary {
  border-bottom: none;
  background: m3.$surface-container;
  border-radius: m3.$corner-full;
  padding: 4px;
  gap: 4px;

  .tab {
    border-radius: m3.$corner-full;
    height: 40px;
    min-width: auto;
    padding: 0 16px;

    &::after {
      display: none;
    }

    &--active {
      background: m3.$secondary-container;
      color: m3.$on-secondary-container;
    }
  }
}

// ============================================
// Scrollable Tabs
// ============================================

.tabList--scrollable {
  .tab {
    flex-shrink: 0;
  }
}

// ============================================
// Full Width Tabs
// ============================================

.tabList--fullWidth {
  .tab {
    flex: 1;
    min-width: 0;
  }
}

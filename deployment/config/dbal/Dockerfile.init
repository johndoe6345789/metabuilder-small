# Lightweight init container that copies DBAL schemas and templates into named
# volumes so the DBAL daemon has them at runtime without host bind mounts.
FROM alpine:3.19
COPY dbal/shared/api/schema/entities /seed/schemas/entities
COPY dbal/templates/sql              /seed/templates/sql
CMD ["sh", "-c", "cp -r /seed/schemas/entities/* /target/schemas/entities/ 2>/dev/null; cp -r /seed/templates/sql/* /target/templates/sql/ 2>/dev/null; echo 'DBAL config seeded'"]

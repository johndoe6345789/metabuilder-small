{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Credential Seed Data",
  "description": "Validation schema for credential seed data files",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "description": "Unique identifier for this credential",
        "pattern": "^cred_"
      },
      "name": {
        "type": "string",
        "description": "Display name for this credential",
        "minLength": 1,
        "maxLength": 255
      },
      "description": {
        "type": ["string", "null"],
        "description": "Description of what this credential is for",
        "maxLength": 500
      },
      "type": {
        "type": "string",
        "description": "Type of credential (api_key, oauth, basic_auth, etc.)",
        "enum": ["api_key", "oauth", "basic_auth", "bearer_token", "custom"]
      },
      "service": {
        "type": "string",
        "description": "Service this credential is for (github, stripe, etc.)",
        "minLength": 1
      },
      "config": {
        "type": "object",
        "description": "Credential configuration (encrypted in production)"
      },
      "isEncrypted": {
        "type": "boolean",
        "description": "Whether credential is encrypted",
        "default": false
      },
      "isActive": {
        "type": "boolean",
        "description": "Whether credential is active",
        "default": true
      },
      "expiresAt": {
        "type": ["integer", "null"],
        "description": "Expiration timestamp"
      },
      "tenantId": {
        "type": ["string", "null"],
        "description": "Tenant ID (null = system-wide)"
      },
      "packageId": {
        "type": ["string", "null"],
        "description": "Package that uses this credential"
      },
      "createdAt": {
        "type": ["integer", "null"],
        "description": "Creation timestamp"
      },
      "updatedAt": {
        "type": ["integer", "null"],
        "description": "Last update timestamp"
      }
    },
    "required": ["id", "name", "type", "service"],
    "additionalProperties": false
  },
  "minItems": 1,
  "examples": [
    [
      {
        "id": "cred_github_api",
        "name": "GitHub API Key",
        "description": "API key for accessing GitHub repositories",
        "type": "api_key",
        "service": "github",
        "config": {
          "apiKey": "${GITHUB_API_KEY}",
          "baseUrl": "https://api.github.com"
        },
        "isActive": true
      }
    ]
  ]
}

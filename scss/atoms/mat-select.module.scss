// Select Component - Official Angular Material M3 SCSS (CSS Module)
// ==================================================================
// Uses Angular Material select design patterns and class names
// Self-contained styles based on material/select/select.scss

// M3 Design tokens
$select-arrow-size: 5px;
$select-arrow-margin: 4px;
$select-panel-max-height: 275px;
$select-placeholder-arrow-space: 2 * ($select-arrow-size + $select-arrow-margin);

// Local class to satisfy CSS modules purity requirement
// The .matSelect class wraps all Angular Material global selectors
.matSelect {
  display: inline-block;
  width: 100%;
  outline: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: var(--mat-select-enabled-trigger-text-color, rgba(0, 0, 0, 0.87));
  font-family: var(--mat-select-trigger-text-font, Roboto, sans-serif);
  line-height: var(--mat-select-trigger-text-line-height, 1.5);
  font-size: var(--mat-select-trigger-text-size, 1rem);
  font-weight: var(--mat-select-trigger-text-weight, 400);
  letter-spacing: var(--mat-select-trigger-text-tracking, 0.03125em);
  position: relative;

  // Animation keyframes (from Angular Material)
  @keyframes matSelectEnter {
    from {
      opacity: 0;
      transform: scaleY(0.8);
    }
    to {
      opacity: 1;
      transform: none;
    }
  }

  @keyframes matSelectExit {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
}

// Disabled state
.disabled {
  color: var(--mat-select-disabled-trigger-text-color, rgba(0, 0, 0, 0.38));
  pointer-events: none;

  .placeholder {
    color: var(--mat-select-disabled-trigger-text-color, rgba(0, 0, 0, 0.38));
  }

  .trigger {
    user-select: none;
    cursor: default;
  }

  .arrow {
    color: var(--mat-select-disabled-arrow-color, rgba(0, 0, 0, 0.38));
  }
}

// Select trigger (clickable area)
.trigger {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  position: relative;
  box-sizing: border-box;
  width: 100%;
}

// Value display area
.value {
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// Value text when there's content
.valueText {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

// Placeholder text
.placeholder {
  transition: color 0.4s 0.133s cubic-bezier(0.25, 0.8, 0.25, 1);
  color: var(--mat-select-placeholder-text-color, rgba(0, 0, 0, 0.6));
}

// Arrow wrapper
.arrowWrapper {
  height: 24px;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
}

// Arrow icon
.arrow {
  width: $select-arrow-size * 2;
  height: $select-arrow-size;
  position: relative;
  color: var(--mat-select-enabled-arrow-color, rgba(0, 0, 0, 0.54));
  transition: transform 0.25s ease;

  svg {
    fill: currentColor;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
}

// Focused state
.focused {
  .arrow {
    color: var(--mat-select-focused-arrow-color, #1976d2);
  }
}

// Error/invalid state
.error {
  .arrow {
    color: var(--mat-select-invalid-arrow-color, #d32f2f);
  }
}

// Open state
.open {
  .arrow {
    transform: rotate(180deg);
  }
}

// Prevent inline elements from collapsing if empty
.minLine {
  &:empty::before {
    content: ' ';
    white-space: pre;
    width: 1px;
    display: inline-block;
    visibility: hidden;
  }
}

// Dropdown menu wrapper
.menuWrapper {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 1000;
  margin-top: 4px;
}

// Select panel (dropdown menu)
.panel {
  width: 100%;
  max-height: $select-panel-max-height;
  outline: 0;
  overflow: auto;
  padding: 8px 0;
  border-radius: 4px;
  box-sizing: border-box;
  position: relative;
  background-color: var(--mat-select-panel-background-color, #fff);
  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),
              0px 2px 2px 0px rgba(0, 0, 0, 0.14),
              0px 1px 5px 0px rgba(0, 0, 0, 0.12);
  animation: matSelectEnter 120ms cubic-bezier(0, 0, 0.2, 1);
}

.panelExit {
  animation: matSelectExit 100ms linear;
}

// React-specific variant wrappers
.outlined {
  // Outlined variant styling - matches mat-form-field-appearance-outline
}

.filled {
  // Filled variant styling - matches mat-form-field-appearance-fill
}

.standard {
  // Standard variant (legacy)
}

// Size modifiers
.small {
  .trigger {
    padding: 4px 8px;
  }

  .arrowWrapper {
    height: 20px;
  }
}

.medium {
  // Default size - no overrides needed
}

// State modifiers
.fullWidth {
  width: 100%;
}

.autoWidth {
  width: auto;
  min-width: 120px;
}

.hasValue {
  // Indicates select has a value - used for label positioning
}

// Native select variant
.native {
  appearance: none;
  background: transparent;
  border: 1px solid rgba(0, 0, 0, 0.23);
  border-radius: 4px;
  padding: 16.5px 14px;
  font: inherit;
  color: inherit;
  width: 100%;
  cursor: pointer;

  &:focus {
    outline: none;
    border-color: var(--mat-select-focused-arrow-color, #1976d2);
    border-width: 2px;
  }

  &:disabled {
    cursor: not-allowed;
    opacity: 0.38;
  }
}

{
  "id": "conflict-indicator-wrapper",
  "type": "AnimatePresence",
  "conditional": {
    "if": "hasConflicts"
  },
  "children": [
    {
      "id": "conflict-indicator-motion",
      "type": "motion.div",
      "props": {
        "initial": { "opacity": 0, "x": -20 },
        "animate": { "opacity": 1, "x": 0 },
        "exit": { "opacity": 0, "x": -20 }
      },
      "children": [
        {
          "id": "conflict-indicator-badge-compact",
          "type": "motion.button",
          "conditional": {
            "if": "variant === 'compact'"
          },
          "bindings": {
            "onClick": {
              "source": "onClick",
              "transform": "data || (() => {})"
            }
          },
          "props": {
            "className": "conflict-indicator",
            "initial": { "scale": 0 },
            "animate": { "scale": 1 },
            "exit": { "scale": 0 }
          },
          "children": [
            {
              "id": "conflict-icon-compact",
              "type": "Warning",
              "props": {
                "size": 20,
                "weight": "fill",
                "className": "conflict-indicator__icon"
              }
            },
            {
              "id": "conflict-count-badge",
              "type": "span",
              "bindings": {
                "children": {
                  "source": "stats.totalConflicts"
                }
              },
              "props": {
                "className": "conflict-indicator__count-bubble"
              }
            }
          ]
        },
        {
          "id": "conflict-indicator-badge-full",
          "type": "Badge",
          "conditional": {
            "if": "variant !== 'compact'"
          },
          "bindings": {
            "onClick": {
              "source": "onClick",
              "transform": "data || (() => {})"
            }
          },
          "props": {
            "className": "conflict-indicator__badge"
          },
          "children": [
            {
              "id": "conflict-icon-full",
              "type": "Warning",
              "props": {
                "size": 14,
                "weight": "fill"
              }
            },
            {
              "id": "conflict-label",
              "type": "span",
              "conditional": {
                "if": "showLabel"
              },
              "bindings": {
                "children": {
                  "source": "stats.totalConflicts",
                  "transform": "data === 1 ? `${data} Conflict` : `${data} Conflicts`"
                }
              }
            },
            {
              "id": "conflict-count-only",
              "type": "span",
              "conditional": {
                "if": "!showLabel"
              },
              "bindings": {
                "children": {
                  "source": "stats.totalConflicts"
                }
              }
            }
          ]
        }
      ]
    }
  ]
}

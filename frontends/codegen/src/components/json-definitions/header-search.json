{
  "id": "header-search",
  "type": "div",
  "props": {
    "style": { "position": "relative", "display": "flex", "alignItems": "center" }
  },
  "children": [
    {
      "id": "search-icon",
      "type": "MagnifyingGlass",
      "props": {
        "size": 14,
        "style": {
          "position": "absolute",
          "left": "8px",
          "top": "50%",
          "transform": "translateY(-50%)",
          "color": "var(--mat-sys-on-surface-variant)",
          "pointerEvents": "none",
          "zIndex": 1
        }
      }
    },
    {
      "id": "search-field",
      "type": "input",
      "bindings": {
        "value": { "source": "hookData.query" },
        "onChange": { "source": "hookData.setQuery" },
        "onBlur": { "source": "hookData.handleBlur" },
        "onFocus": { "source": "hookData.handleFocus" }
      },
      "props": {
        "type": "text",
        "placeholder": "Search...",
        "style": {
          "height": "28px",
          "width": "180px",
          "paddingLeft": "28px",
          "paddingRight": "8px",
          "fontSize": "12px",
          "borderRadius": "6px",
          "border": "1px solid var(--mat-sys-outline-variant)",
          "background": "var(--mat-sys-surface)",
          "color": "var(--mat-sys-on-surface)",
          "outline": "none",
          "transition": "width 0.2s ease"
        }
      }
    },
    {
      "id": "search-dropdown",
      "type": "div",
      "condition": { "source": "hookData.showResults" },
      "props": {
        "style": {
          "position": "absolute",
          "left": 0,
          "top": "100%",
          "marginTop": "4px",
          "width": "320px",
          "borderRadius": "8px",
          "border": "1px solid var(--mat-sys-outline-variant)",
          "background": "var(--mat-sys-surface-container)",
          "boxShadow": "0 4px 12px rgba(0,0,0,0.15)",
          "zIndex": 50,
          "maxHeight": "320px",
          "overflowY": "auto"
        }
      },
      "children": [
        {
          "id": "search-loading",
          "type": "div",
          "condition": { "source": "hookData.loading" },
          "props": {
            "style": {
              "padding": "6px 12px",
              "fontSize": "11px",
              "color": "var(--mat-sys-on-surface-variant)",
              "borderBottom": "1px solid var(--mat-sys-outline-variant)"
            }
          },
          "children": [
            { "id": "search-loading-text", "type": "span", "children": ["Searching..."] }
          ]
        },
        {
          "id": "search-results-list",
          "type": "div",
          "bindings": {
            "children": { "source": "hookData.searchResultsContent" }
          }
        }
      ]
    },
    {
      "id": "search-empty-dropdown",
      "type": "div",
      "condition": { "source": "hookData.showEmpty" },
      "props": {
        "style": {
          "position": "absolute",
          "left": 0,
          "top": "100%",
          "marginTop": "4px",
          "width": "320px",
          "borderRadius": "8px",
          "border": "1px solid var(--mat-sys-outline-variant)",
          "background": "var(--mat-sys-surface-container)",
          "boxShadow": "0 4px 12px rgba(0,0,0,0.15)",
          "zIndex": 50
        }
      },
      "children": [
        {
          "id": "search-empty-text",
          "type": "div",
          "props": {
            "style": {
              "padding": "16px 12px",
              "fontSize": "12px",
              "color": "var(--mat-sys-on-surface-variant)",
              "textAlign": "center"
            }
          },
          "children": [
            { "id": "no-results", "type": "span", "children": ["No results found"] }
          ]
        }
      ]
    }
  ]
}

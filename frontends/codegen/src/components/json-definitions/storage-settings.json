{
  "id": "storage-settings-container",
  "type": "div",
  "props": { "className": "storage-settings" },
  "children": [
    {
      "id": "backend-card",
      "type": "Card",
      "children": [
        {
          "id": "backend-header",
          "type": "CardHeader",
          "children": [
            {
              "id": "backend-title",
              "type": "CardTitle",
              "children": [
                {
                  "type": "PhosphorIcon",
                  "bindings": {
                    "icon": "backendInfo.iconName"
                  }
                },
                {
                  "type": "text",
                  "children": "Storage Backend"
                }
              ]
            },
            {
              "id": "backend-description",
              "type": "CardDescription",
              "children": [{ "type": "text", "children": "Choose your storage backend for the application" }]
            }
          ]
        },
        {
          "id": "backend-content",
          "type": "CardContent",
          "children": [
            {
              "id": "current-backend",
              "type": "div",
              "props": { "className": "storage-settings__backend-row" },
              "children": [
                {
                  "type": "span",
                  "props": { "className": "storage-settings__backend-label" },
                  "children": [{ "type": "text", "children": "Current Backend:" }]
                },
                {
                  "type": "Badge",
                  "props": { "variant": "secondary" },
                  "children": [
                    {
                      "type": "PhosphorIcon",
                      "bindings": { "icon": "backendInfo.iconName" }
                    },
                    {
                      "type": "text",
                      "bindings": { "children": "backendInfo.moleculeLabel" }
                    }
                  ]
                }
              ]
            },
            {
              "id": "backend-options",
              "type": "div",
              "props": { "className": "storage-settings__options" },
              "children": [
                {
                  "id": "flask-section",
                  "type": "div",
                  "props": { "className": "storage-settings__flask-section" },
                  "children": [
                    {
                      "type": "Label",
                      "props": { "htmlFor": "flask-url" },
                      "children": [{ "type": "text", "children": "Flask Backend URL" }]
                    },
                    {
                      "type": "div",
                      "props": { "className": "storage-settings__flask-row" },
                      "children": [
                        {
                          "type": "Input",
                          "props": { "id": "flask-url" },
                          "bindings": {
                            "value": "flaskUrl",
                            "onChange": {
                              "source": "onFlaskUrlChange",
                              "transform": "(e) => onFlaskUrlChange?.(e.target.value)"
                            },
                            "disabled": {
                              "source": "isSwitching,isLoading",
                              "transform": "isSwitching || isLoading"
                            }
                          }
                        },
                        {
                          "type": "Button",
                          "bindings": {
                            "onClick": "onSwitchToFlask",
                            "disabled": {
                              "source": "isSwitching,isLoading,backend",
                              "transform": "isSwitching || isLoading || backend === 'flask'"
                            },
                            "variant": {
                              "source": "backend",
                              "transform": "backend === 'flask' ? 'secondary' : 'default'"
                            }
                          },
                          "children": [
                            {
                              "type": "PhosphorIcon",
                              "props": { "icon": "Cpu" }
                            },
                            {
                              "type": "text",
                              "bindings": {
                                "children": {
                                  "source": "backend",
                                  "transform": "backend === 'flask' ? 'Active' : 'Use Flask'"
                                }
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "other-backends",
                  "type": "div",
                  "props": { "className": "storage-settings__other-backends" },
                  "children": [
                    {
                      "type": "Button",
                      "bindings": {
                        "onClick": "onSwitchToIndexedDB",
                        "disabled": {
                          "source": "isSwitching,isLoading,backend",
                          "transform": "isSwitching || isLoading || backend === 'indexeddb'"
                        },
                        "variant": {
                          "source": "backend",
                          "transform": "backend === 'indexeddb' ? 'secondary' : 'outline'"
                        }
                      },
                      "children": [
                        {
                          "type": "PhosphorIcon",
                          "props": { "icon": "HardDrive" }
                        },
                        {
                          "type": "text",
                          "bindings": {
                            "children": {
                              "source": "backend",
                              "transform": "backend === 'indexeddb' ? 'Active' : 'Use IndexedDB'"
                            }
                          }
                        }
                      ]
                    },
                    {
                      "type": "Button",
                      "bindings": {
                        "onClick": "onSwitchToSQLite",
                        "disabled": {
                          "source": "isSwitching,isLoading,backend",
                          "transform": "isSwitching || isLoading || backend === 'sqlite'"
                        },
                        "variant": {
                          "source": "backend",
                          "transform": "backend === 'sqlite' ? 'secondary' : 'outline'"
                        }
                      },
                      "children": [
                        {
                          "type": "PhosphorIcon",
                          "props": { "icon": "Database" }
                        },
                        {
                          "type": "text",
                          "bindings": {
                            "children": {
                              "source": "backend",
                              "transform": "backend === 'sqlite' ? 'Active' : 'Use SQLite'"
                            }
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "data-card",
      "type": "Card",
      "children": [
        {
          "id": "data-header",
          "type": "CardHeader",
          "children": [
            {
              "type": "CardTitle",
              "children": [{ "type": "text", "children": "Import/Export Data" }]
            },
            {
              "type": "CardDescription",
              "children": [{ "type": "text", "children": "Backup or restore your application data" }]
            }
          ]
        },
        {
          "id": "data-content",
          "type": "CardContent",
          "children": [
            {
              "type": "div",
              "props": { "className": "storage-settings__export-row" },
              "children": [
                {
                  "type": "Button",
                  "bindings": {
                    "onClick": "onExport",
                    "disabled": "isExporting"
                  },
                  "props": { "variant": "outline" },
                  "children": [
                    {
                      "type": "PhosphorIcon",
                      "props": { "icon": "Download" }
                    },
                    {
                      "type": "text",
                      "children": "Export"
                    }
                  ]
                },
                {
                  "type": "Button",
                  "bindings": {
                    "onClick": "onImport",
                    "disabled": "isImporting"
                  },
                  "props": { "variant": "outline" },
                  "children": [
                    {
                      "type": "PhosphorIcon",
                      "props": { "icon": "Upload" }
                    },
                    {
                      "type": "text",
                      "children": "Import"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
